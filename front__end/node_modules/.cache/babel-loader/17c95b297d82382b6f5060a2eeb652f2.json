{"ast":null,"code":"import _toConsumableArray from \"/Users/annremizova/Desktop/full stack/my__notes/front__end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/Users/annremizova/Desktop/full stack/my__notes/front__end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/annremizova/Desktop/full stack/my__notes/front__end/src/components/new_note.js\";\nimport React, { useState, useEffect } from 'react';\nimport './new_note.css';\nimport Notes_list from './Notes_list';\nimport Note from './page';\nimport { useNavigate } from \"react-router-dom\";\nexport default function New_note() {\n  var navigate = useNavigate();\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    notes = _useState2[0],\n    setNotes = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    editNote = _useState4[0],\n    setEditNote = _useState4[1];\n  useEffect(function () {\n    fetch('http://127.0.0.1:8000/api/notes/', {\n      'method': 'GET',\n      headers: {\n        'Content-Type': 'application.json',\n        'Authorization': 'Token 9f0238d2d419c3e1a4cf26ac564b54204791ce1c'\n      }\n    }).then(function (resp) {\n      return resp.json();\n    }).then(function (resp) {\n      return setNotes(resp);\n    }).then(function (error) {\n      return console.log(error);\n    });\n  }, []);\n  var editBtn = function editBtn(note) {\n    setEditNote(note);\n  };\n  var updatedInfo = function updatedInfo(note) {\n    var new_note = notes.map(function (my_note) {\n      if (my_note.id === note.id) {\n        return note;\n      } else {\n        return my_note;\n      }\n    });\n    setNotes(new_note);\n  };\n  var newNote = function newNote() {\n    setEditNote({\n      title: '',\n      description: ''\n    });\n  };\n  var newInfo = function newInfo(note) {\n    var new_notes = [].concat(_toConsumableArray(notes), [note]);\n    setNotes(new_notes);\n  };\n  var deleteBtn = function deleteBtn(note) {\n    var new_notes = notes.filter(function (my_note) {\n      if (my_note.id === note.id) {\n        return false;\n      }\n      return true;\n    });\n    setNotes(new_notes);\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container_notes\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Notes_list, {\n    notes: notes,\n    editBtn: editBtn,\n    deleteBtn: deleteBtn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }\n  }), editNote ? /*#__PURE__*/React.createElement(Note, {\n    note: editNote,\n    updatedInfo: updatedInfo,\n    newInfo: newInfo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 23\n    }\n  }) : null), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: function onClick() {\n      return navigate(\"/\");\n    },\n    className: \"text home\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 5\n    }\n  }, \"home\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: newNote,\n    className: \"text new_note\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 5\n    }\n  }, \"new note\"));\n}","map":{"version":3,"names":["React","useState","useEffect","Notes_list","Note","useNavigate","New_note","navigate","notes","setNotes","editNote","setEditNote","fetch","headers","then","resp","json","error","console","log","editBtn","note","updatedInfo","new_note","map","my_note","id","newNote","title","description","newInfo","new_notes","deleteBtn","filter"],"sources":["/Users/annremizova/Desktop/full stack/my__notes/front__end/src/components/new_note.js"],"sourcesContent":["import React, { useState, useEffect }  from 'react';\nimport './new_note.css'\nimport Notes_list from './Notes_list';\nimport Note from './page';\nimport {\n  useNavigate\n} from \"react-router-dom\";\n\nexport default function New_note() {\n  const navigate = useNavigate();\n  const [notes, setNotes] = useState([])\n  const [editNote, setEditNote] = useState(null)\n\n  useEffect(() => {\n    fetch('http://127.0.0.1:8000/api/notes/', {\n      'method':'GET',\n      headers: {\n        'Content-Type': 'application.json',\n        'Authorization': 'Token 9f0238d2d419c3e1a4cf26ac564b54204791ce1c'\n      }\n    })\n    .then(resp => resp.json())\n    .then(resp => setNotes(resp))\n    .then(error => console.log(error))\n  }, [])\n\n  const editBtn = (note) => {\n    setEditNote(note)\n  }\n\n  const updatedInfo = (note) => {\n    const new_note = notes.map(my_note => {\n      if (my_note.id === note.id){\n        return note;\n      } else {\n        return my_note;\n      }\n    })\n\n    setNotes(new_note)\n  }\n\n  const newNote = () => {  \n    setEditNote({title:'', description:''})\n  }\n\n  const newInfo = (note) => {\n    const new_notes = [...notes, note]\n    setNotes(new_notes)\n  }\n  \n  const deleteBtn = (note) => {\n    const new_notes = notes.filter(my_note => {\n      if (my_note.id === note.id){\n        return false\n      } \n      return true;\n    })\n    setNotes(new_notes)\n  }\n\n  return (  \n    <div className=\"container_notes\">\n      <div>\n          <Notes_list notes={notes} editBtn = {editBtn} deleteBtn = {deleteBtn}/>\n          {editNote ? <Note note ={editNote} updatedInfo = {updatedInfo} newInfo = {newInfo}/> : null}\n    </div>\n    <button onClick={() => navigate(\"/\")} className='text home'>home</button>\n    <button onClick={newNote} className='text new_note'>new note</button>\n  </div>\n  )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}